#:import Factory kivy.factory.Factory
<MainWindow>:
    name:"main"
    on_enter:
        app.theme_cls.theme_style = root.getColor()
    GridLayout:
        rows:4

        GridLayout:
            cols: 3
            size_hint_y: .2
            Button:
                background_color: 0,0,0,0
                on_release:
                    app.root.current="settings"; root.manager.transition.direction="right"
                Image:
                    id: Settings
                    source: 'icons\Settings Icon.png'
                    y: self.parent.y
                    x: self.parent.x
                    size: self.parent.size
                    stretch: True
            Image:
                id: Logo
                source: 'icons/SmartStrengthLogo10.png'
                y: self.parent.y
                x: self.parent.x
                size: self.parent.size
                stretch: True
            Button:
                background_color: 0,0,0,0
                on_release:
                    app.root.current="profile"
                Image:
                    id: Profile
                    source: 'icons\Profile Icon4.png'
                    y: self.parent.y
                    x: self.parent.x
                    size: self.parent.size
                    stretch: True
        GridLayout:
            cols: 7
            size_hint_y: .1
            Button:
                background_color: "#69a858"
                background_normal:""
                text: "Mon"
                canvas.before:
                    Color:
                        rgba: 0, 0, 0, 1
                    Line:
                        width: 2
                        rectangle: self.x, self.y, self.width, self.height
                on_release:
                    root.setDay("Monday")
                    root.delButton()
                    root.displayWorkout("workout","Monday")
                    root.switchScreen("workout","left")
            Button:
                background_color: "#69a858"
                background_normal:""
                text: "Tue"
                canvas.before:
                    Color:
                        rgba: 0, 0, 0, 1
                    Line:
                        width: 2
                        rectangle: self.x, self.y, self.width, self.height
                on_release:
                    root.setDay("Tuesday")
                    root.delButton()
                    root.displayWorkout("workout","Tuesday")
                    root.switchScreen("workout","left")
            Button:
                background_color: "#69a858"
                background_normal:""
                text: "Wed"
                canvas.before:
                    Color:
                        rgba: 0, 0, 0, 1
                    Line:
                        width: 2
                        rectangle: self.x, self.y, self.width, self.height
                on_release:
                    root.setDay("Wednesday")
                    root.delButton()
                    root.displayWorkout("workout","Wednesday")
                    root.switchScreen("workout","left")
            Button:
                background_color: "#69a858"
                background_normal:""
                text: "Thur"
                canvas.before:
                    Color:
                        rgba: 0, 0, 0, 1
                    Line:
                        width: 2
                        rectangle: self.x, self.y, self.width, self.height
                on_release:
                    root.setDay("Thursday")
                    root.delButton()
                    root.displayWorkout("workout","Thursday")
                    root.switchScreen("workout","left")
            Button:
                background_color: "#69a858"
                background_normal:""
                text: "Fri"
                canvas.before:
                    Color:
                        rgba: 0, 0, 0, 1
                    Line:
                        width: 2
                        rectangle: self.x, self.y, self.width, self.height
                on_release:
                    root.setDay("Friday")
                    root.delButton()
                    root.displayWorkout("workout","Friday")
                    root.switchScreen("workout","left")
            Button:
                background_color: "#69a858"
                background_normal:""
                text: "Sat"
                canvas.before:
                    Color:
                        rgba: 0, 0, 0, 1
                    Line:
                        width: 2
                        rectangle: self.x, self.y, self.width, self.height
                on_release:
                    root.setDay("Saturday")
                    root.delButton()
                    root.displayWorkout("workout","Saturday")
                    root.switchScreen("workout","left")
            Button:
                background_color: "#69a858"
                background_normal:""
                canvas.before:
                    Color:
                        rgba: 0, 0, 0, 1
                    Line:
                        width: 2
                        rectangle: self.x, self.y, self.width, self.height
                text: "Sun"
                on_release:
                    root.setDay("Sunday")
                    root.delButton()
                    root.displayWorkout("workout","Sunday")
                    root.switchScreen("workout","left")
        GridLayout:
            cols:1
            ScreenManager:
                id:manager
                Screen:
                    name: 'workout'
                    ScrollView:
                        id: some2
                        size: self.size
                        GridLayout:
                            id: widget_list
                            size_hint_y: None
                            height: self.minimum_height
                            width: self.minimum_width
                            cols: 1
                            spacing: 10
                            padding: 23
                Screen:
                    name: 'search'
                    ScrollView:
                        id: some
                        size: self.size
                        GridLayout:
                            id: search_list
                            size_hint_y: None
                            height: self.minimum_height
                            width: self.minimum_width
                            cols: 1
                            spacing: 10
                            padding: 23
                            MDFillRoundFlatButton:
                                text: "BACK"
                                font_size: 12
                                pos_hint: {"left": 1, "top":1}
                                on_release:
                                    root.delButton()
                                    root.displayWorkout("workout",root.getDay())
                                    root.displayWorkout("workout",root.getDay())
                                    root.switchScreen("workout","right")
                            MDTextField:
                                id:search
                                hint_text: "search"
                                size_int_x: None
                                width: 200
                                font_size: 18
                                pos_hint: {"center_x": 0.5}
                                on_text_validate:
                                    root.delButton()
                                    root.addSearchedButton()
        GridLayout:
            cols: 3
            size_hint_y: .2
            Button:
                background_color: 0,0,0,0
                on_release:
                    root.setDay("Monday")
                    root.delButton()
                    root.displayWorkout("workout","Monday")
                    root.switchScreen("workout","right")
                Image:
                    id: Home
                    source: 'icons\Home-icon.png'
                    y: self.parent.y * self.parent.height * self.parent.width/self.image_ratio
                    x: self.parent.x
                    size: self.parent.size
                    stretch: True
            Button:
                background_color: 0,0,0,0
                size_hint_y:1
                on_release:
                    root.delButton()
                    root.switchScreen("workout","left")
                    root.displayList("favorite")
                Image:
                    id: Heart
                    source: 'icons\Heart.png'
                    y: self.parent.y * self.parent.height * self.parent.width/self.image_ratio
                    x: self.parent.x
                    size: self.parent.size
                    stretch: True
            Button:
                background_color: 0,0,0,0
                on_release:
                    root.switchScreen("workout","left")
                    root.displayList("explore")
                Image:
                    id: Magnify
                    source: 'icons\Magnify.png'
                    y: self.parent.y * self.parent.height * self.parent.width/self.image_ratio
                    x: self.parent.x
                    size: self.parent.size
                    stretch: True

<P>:
    id:pop
    title: ""
    separator_height: 0
    size_hint: 0.8, 0.35
    auto_dismiss: False
    FloatLayout:
        MDRoundFlatButton:
            text: "Exit"
            font_size: 12
            pos_hint: {"right": 1, "top":1.1 }
            on_release:
                pop.dismiss()
        Label:
            text: "REPS:"
            size_hint: 0.8,0.25
            pos_hint: {"center_x": 0.5, "top":1}
        MDTextFieldRound:
            id: reps
            size_hint: 0.8,0.2
            pos_hint: {"center_x": 0.5, "y":.6}
            width: 200
            font_size: 18
        Label:
            text: "SETS:"
            size_hint: 0.8,0.25
            pos_hint: {"center_x": 0.5, "y":.42}
        MDTextFieldRound:
            id: sets
            size_hint: 0.8,0.2
            pos_hint: {"center_x": 0.5, "y":.27}
            width: 200
            font_size: 18
        MDRoundFlatButton:
            text: "DONE"
            font_size: 12
            pos_hint: {"center_x": 0.5, "y":.08}
            on_release:
                root.addExercise()
                Factory.MainWindow().switchScreen("search","right")
                pop.dismiss()
<namePopup>:
    id:namepop
    title: ""
    separator_height: 0
    size_hint: 0.6, 0.2
    auto_dismiss: False
    FloatLayout:
        MDRoundFlatButton:
            text: "Exit"
            font_size: 12
            pos_hint: {"right": 1, "top":1.1 }
            on_release:
                namepop.dismiss()
        Label:
            text: "NAME:"
            size_hint: 0.8,0.25
            pos_hint: {"center_x": 0.5, "top":1}
        MDTextFieldRound:
            id: name
            size_hint: 0.8,0.2
            pos_hint: {"center_x": 0.5, "y":.5}
            width: 200
            font_size: 18
        MDRoundFlatButton:
            text: "DONE"
            font_size: 12
            pos_hint: {"center_x": 0.5, "y":.08}
            on_release:
                namepop.dismiss()
                Factory.MainWindow().addFavorite(name.text,root.getLocation(),root.getDay(),"workout")

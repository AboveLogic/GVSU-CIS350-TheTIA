#:import Factory kivy.factory.Factory
<MainWindow>:
    name:"main"
    GridLayout:
        rows:4
        GridLayout:
            cols: 3
            size_hint_y: .2
            Button:
                text: "Settings"
            Image:
                id: Home
                source: 'icons/SmartStrength.png'
                center_x: self.parent.center_x
                center_y: self.parent.center_y
            Button:
                text: "Profile"
                on_release:
                    app.root.current="profile"
        GridLayout:
            cols: 7
            size_hint_y: .1
            Button:
                text: "Mon"
                on_release:
                    root.setDay("Monday")
                    root.delButton()
                    root.displayWorkout("workout","Monday")
                    root.switchScreen("workout","left")
            Button:
                text: "Tue"
                on_release:
                    root.setDay("Tuesday")
                    root.delButton()
                    root.displayWorkout("workout","Tuesday")
                    root.switchScreen("workout","left")
            Button:
                text: "Wed"
                on_release:
                    root.setDay("Wednesday")
                    root.delButton()
                    root.displayWorkout("workout","Wednesday")
                    root.switchScreen("workout","left")
            Button:
                text: "Thur"
                on_release:
                    root.setDay("Thursday")
                    root.delButton()
                    root.displayWorkout("workout","Thursday")
                    root.switchScreen("workout","left")
            Button:
                text: "Fri"
                on_release:
                    root.setDay("Friday")
                    root.delButton()
                    root.displayWorkout("workout","Friday")
                    root.switchScreen("workout","left")
            Button:
                text: "Sat"
                on_release:
                    root.setDay("Saturday")
                    root.delButton()
                    root.displayWorkout("workout","Saturday")
                    root.switchScreen("workout","left")
            Button:
                text: "Sun"
                on_release:
                    root.setDay("Sunday")
                    root.delButton()
                    root.displayWorkout("workout","Sunday")
                    root.switchScreen("workout","left")
        GridLayout:
            cols:1
            ScreenManager:
                id:manager
                Screen:
                    name: 'workout'
                    ScrollView:
                        id: some2
                        size: self.size
                        GridLayout:
                            id: widget_list
                            size_hint_y: None
                            height: self.minimum_height
                            width: self.minimum_width
                            cols: 1
                            spacing: 10
                            padding: 23
                Screen:
                    name: 'search'
                    ScrollView:
                        id: some
                        size: self.size
                        GridLayout:
                            id: search_list
                            size_hint_y: None
                            height: self.minimum_height
                            width: self.minimum_width
                            cols: 1
                            spacing: 10
                            padding: 23
                            MDRoundFlatButton:
                                text: "BACK"
                                font_size: 12
                                pos_hint: {"left": 1, "top":1}
                                on_release:
                                    root.delButton()
                                    root.displayWorkout("workout",root.getDay())
                                    root.displayWorkout("workout",root.getDay())
                                    root.switchScreen("workout","right")
                            MDTextField:
                                id:search
                                hint_text: "search"
                                size_int_x: None
                                width: 200
                                font_size: 18
                                pos_hint: {"center_x": 0.5}
                                on_text_validate:
                                    root.delButton()
                                    root.addSearchedButton()
        GridLayout:
            cols: 3
            size_hint_y: .2
            Button:
                background_color: 0,0,0,0
                on_release:
                    root.setDay("Monday")
                    root.delButton()
                    root.displayWorkout("workout","Monday")
                    root.switchScreen("workout","right")
                Image:
                    id: Home
                    source: 'icons\Home-icon.png'
                    center_x: self.parent.center_x
                    center_y: self.parent.center_y
            Button:
                background_color: 0,0,0,0
                on_release:
                    root.delButton()
                    root.switchScreen("workout","left")
                    root.displayList("favorite")
                Image:
                    id: Heart
                    source: 'icons\Heart.png'
                    center_x: self.parent.center_x
                    center_y: self.parent.center_y
            Button:
                background_color: 0,0,0,0
                on_release:
                    root.switchScreen("workout","left")
                    root.displayList("explore")
                Image:
                    id: Magnify
                    source: 'icons\Magnify.png'
                    center_x: self.parent.center_x
                    center_y: self.parent.center_y

<P>:
    id:pop
    title: ""
    separator_height: 0
    size_hint: 0.8, 0.35
    auto_dismiss: False
    FloatLayout:
        MDRoundFlatButton:
            text: "Exit"
            font_size: 12
            pos_hint: {"right": 1, "top":1.1 }
            on_release:
                pop.dismiss()
        Label:
            text: "REPS:"
            size_hint: 0.8,0.25
            pos_hint: {"center_x": 0.5, "top":1}
        MDTextFieldRound:
            id: reps
            size_hint: 0.8,0.2
            pos_hint: {"center_x": 0.5, "y":.6}
            width: 200
            font_size: 18
        Label:
            text: "SETS:"
            size_hint: 0.8,0.25
            pos_hint: {"center_x": 0.5, "y":.42}
        MDTextFieldRound:
            id: sets
            size_hint: 0.8,0.2
            pos_hint: {"center_x": 0.5, "y":.27}
            width: 200
            font_size: 18
        MDRoundFlatButton:
            text: "DONE"
            font_size: 12
            pos_hint: {"center_x": 0.5, "y":.08}
            on_release:
                root.addExercise()
                Factory.MainWindow().switchScreen("search","right")
                pop.dismiss()
<namePopup>:
    id:namepop
    title: ""
    separator_height: 0
    size_hint: 0.6, 0.2
    auto_dismiss: False
    FloatLayout:
        MDRoundFlatButton:
            text: "Exit"
            font_size: 12
            pos_hint: {"right": 1, "top":1.1 }
            on_release:
                namepop.dismiss()
        Label:
            text: "NAME:"
            size_hint: 0.8,0.25
            pos_hint: {"center_x": 0.5, "top":1}
        MDTextFieldRound:
            id: name
            size_hint: 0.8,0.2
            pos_hint: {"center_x": 0.5, "y":.5}
            width: 200
            font_size: 18
        MDRoundFlatButton:
            text: "DONE"
            font_size: 12
            pos_hint: {"center_x": 0.5, "y":.08}
            on_release:
                namepop.dismiss()
                Factory.MainWindow().addFavorite(name.text,root.getLocation(),root.getDay(),"workout")
